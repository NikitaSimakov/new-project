{"version":3,"sources":["beer.js"],"names":["container","document","querySelector","BASE_URL","button","guard","observer","IntersectionObserver","onLoad","options","page","root","rootMargin","threshold","renderMarkup","beerApi","then","data","createMarkup","observe","catch","error","console","log","entries","forEach","entry","isIntersecting","length","id","unobserve","arguments","undefined","fetch","concat","resp","ok","Error","json","markup","map","item","image_url","name","description","ibu","abv","ebc","brewers_tips","food_pairing","join","insertAdjacentHTML"],"mappings":"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","file":"beer.84ce3a9a.js","sourceRoot":"..","sourcesContent":["const container = document.querySelector(\".js-beer_container\");\r\nconst BASE_URL = \"https://api.punkapi.com/v2/beers\";\r\nconst button = document.querySelector(\".moreBtn\");\r\nconst guard = document.querySelector(\".js_guard\");\r\nconst observer = new IntersectionObserver(onLoad, options);\r\nlet page = 1;\r\nconst options = {\r\n  root: null,\r\n  rootMargin: \"600px\",\r\n  threshold: 1.0,\r\n};\r\n\r\n// button.addEventListener(\"click\", onClick);\r\n\r\nrenderMarkup();\r\nfunction renderMarkup() {\r\n  return beerApi()\r\n    .then((data) => {\r\n      createMarkup(data);\r\n      observer.observe(guard);\r\n    })\r\n    .catch((error) => console.log(error));\r\n}\r\n\r\nfunction onLoad(entries, observer) {\r\n  // console.log(entries);\r\n  entries.forEach((entry) => {\r\n    if (entry.isIntersecting) {\r\n      page += 1;\r\n      beerApi(page).then((data) => {\r\n        createMarkup(data);\r\n        if (data[data.length - 1].id === 325) {\r\n          console.log(data[data.length - 1].id);\r\n          observer.unobserve(guard);\r\n        }\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\n// function onClick() {\r\n//   page += 1;\r\n//   beerApi(page).then(createMarkup);\r\n// }\r\n\r\nfunction beerApi(page = 1) {\r\n  return fetch(`${BASE_URL}?page=${page}&per_page=80`)\r\n    .then((resp) => {\r\n      if (!resp.ok) {\r\n        throw new Error();\r\n      }\r\n      return resp.json();\r\n    })\r\n    .catch((error) => console.log(error));\r\n}\r\n\r\nfunction createMarkup(data) {\r\n  const markup = data.map(\r\n    (item) =>\r\n      `<li class='item'>\r\n      <div class='img_container'> \r\n      <img class='beer_img' src='${item.image_url}'>\r\n      </div>\r\n      <div class='card_container'>\r\n    <h1>${item.name}</h1>\r\n    \r\n    <p>${item.description}</p>\r\n    <span>IBU: ${item.ibu}</span>|<span>ABV: ${item.abv}</span>|<span>EBC: ${\r\n        item.ebc\r\n      }</span>\r\n    <h3>Brewers tips: ${item.brewers_tips}</h2>\r\n    <h3>Food pairing: ${item.food_pairing.join(\", \")}</h2>\r\n    <div>\r\n      </li>\r\n    `\r\n  );\r\n  container.insertAdjacentHTML(\"beforeend\", markup.join(\" \"));\r\n}\r\n"]}